<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="modifierarticle003.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>
<body>
    
 <div class="modal-container">
        <div class="modal-header">
            <h2>
                <i class="fas fa-pen-to-square"></i>
                Modifier l'article PROD-003
            </h2>
            <button class="close-btn" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="subtitle">
            Modifiez les informations sur votre article
        </div>

        <div class="form-section">
            <h3 class="section-title">Informations de base</h3>

            <form id="articleForm">
                <div class="form-group">
                    <label for="articleName">Nom de l'article</label>
                    <input type="text" id="articleName" value="Sac Tote Bag" required>
                </div>

                <div class="form-group">
                    <label for="price">Prix de Vente</label>
                    <input type="text" id="price" value="8 000 FCFA" required>
                </div>

                <div class="form-group">
                    <label for="category">Catégorie</label>
                    <select id="category" required>
                        <option value="vetement" selected>Accessoire</option>
                        <option value="electronique">Électronique</option>
                        <option value="alimentaire">Alimentaire</option>
                        <option value="maison">Maison & Jardin</option>
                        <option value="sport">Sport</option>
                        <option value="livres">Livres</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" required>Sac écologique polyvalent.Idéal pour les kits d'accueil évènementiels</textarea>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-cancel" onclick="cancelForm()">
                        <i class="fas fa-times-circle"></i>
                        Annuler
                    </button>
                    <button type="submit" class="btn btn-submit">
                        <i class="fas fa-edit"></i>
                        Modifier l'article
                    </button>
                </div>
            </form>
        </div>
    </div>

    
 <script>
        const form = document.getElementById('articleForm');

        // Données initiales pour comparaison
        const initialData = {
            name: 'T-shirt Logo Evenement',
            price: '10 000 FCFA',
            category: 'vetement',
            description: 'Ce T-shirt unisexe est l\'édition officielle de notre événement annuel.'
        };

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const articleData = {
                id: 'PROD-001',
                name: document.getElementById('articleName').value,
                price: document.getElementById('price').value,
                category: document.getElementById('category').value,
                description: document.getElementById('description').value
            };

            // Vérifier s'il y a des modifications
            const hasChanges = 
                articleData.name !== initialData.name ||
                articleData.price !== initialData.price ||
                articleData.category !== initialData.category ||
                articleData.description !== initialData.description;

            if (!hasChanges) {
                alert('Aucune modification détectée.');
                return;
            }

            console.log('Article modifié:', articleData);
            
            alert('✅ Article modifié avec succès!\n\n' + 
                  'ID: ' + articleData.id + '\n' +
                  'Nom: ' + articleData.name + '\n' +
                  'Prix: ' + articleData.price + '\n' +
                  'Catégorie: ' + articleData.category + '\n' +
                  'Description: ' + articleData.description);
            
            // Mettre à jour les données initiales
            Object.assign(initialData, {
                name: articleData.name,
                price: articleData.price,
                category: articleData.category,
                description: articleData.description
            });
        });

        function closeModal() {
            const currentData = {
                name: document.getElementById('articleName').value,
                price: document.getElementById('price').value,
                category: document.getElementById('category').value,
                description: document.getElementById('description').value
            };

            const hasChanges = 
                currentData.name !== initialData.name ||
                currentData.price !== initialData.price ||
                currentData.category !== initialData.category ||
                currentData.description !== initialData.description;

            if (hasChanges) {
                if (confirm('Vous avez des modifications non enregistrées. Voulez-vous vraiment fermer?')) {
                    window.close();
                }
            } else {
                window.close();
            }
        }

        function cancelForm() {
            const currentData = {
                name: document.getElementById('articleName').value,
                price: document.getElementById('price').value,
                category: document.getElementById('category').value,
                description: document.getElementById('description').value
            };

            const hasChanges = 
                currentData.name !== initialData.name ||
                currentData.price !== initialData.price ||
                currentData.category !== initialData.category ||
                currentData.description !== initialData.description;

            if (hasChanges) {
                if (confirm('Voulez-vous annuler les modifications? Les changements non enregistrés seront perdus.')) {
                    // Restaurer les valeurs initiales
                    document.getElementById('articleName').value = initialData.name;
                    document.getElementById('price').value = initialData.price;
                    document.getElementById('category').value = initialData.category;
                    document.getElementById('description').value = initialData.description;
                }
            } else {
                alert('Aucune modification à annuler.');
            }
        }
    </script>

</body>
</html>